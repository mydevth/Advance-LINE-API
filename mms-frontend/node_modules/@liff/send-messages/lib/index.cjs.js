"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@liff/consts"),r=require("@liff/util"),t=require("@liff/server-api"),i=require("@liff/get-line-version"),n=require("@liff/get-os"),o=function(e){return"object"==typeof e&&null!==e&&function(e){return"string"==typeof e||e instanceof String}(e.type)};function s(t){return Promise.reject(r.createLiffError(e.INVALID_ARGUMENT,t))}var a=function(e){if("403"===e.code){var t="12.0.0"===i.getLineVersion(),o="ios"===n.getOS(),s=r.isIpad();t&&(o||s)&&window.alert("LINEアプリをLINE 12.0.1以降にアップデートしてください。\nPlease update your LINE app to LINE 12.0.1 or later.")}throw e};exports.alertToPromptUpdate=a,exports.sendMessages=function(e){if(!function(e){return Array.isArray(e)&&e.every(o)}(e))return s("Parameter 'messages' must be an array of { type, ... }");var r=e.length;return r<1||r>5?s("Number of messages should be in range 1 to 5."):t.fetch(t.getEndPoint("message"),{method:"POST",body:JSON.stringify({messages:e})}).catch(a)};
