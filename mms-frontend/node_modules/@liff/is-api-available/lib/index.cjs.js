"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@liff/consts"),n=require("@liff/util"),i=require("@liff/store"),r=require("@liff/is-in-client"),t=require("@liff/is-logged-in"),o=require("@liff/get-line-version"),u=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen"];function s(e){var n,r=i.getContext();return null===(n=null==r?void 0:r.availability)||void 0===n?void 0:n[e]}function a(e,i){var r=o.getLineVersion();return!!r&&(!(i&&n.compareVersion(r,i)>0)&&n.compareVersion(r,e)>=0)}function f(e){var n=s(e);if(!n)return!1;var i=n.permission,t=n.minVer,o=n.unsupportedFromVer;return!!i&&(!!r.isInClient()&&a(t,o))}var c={shareTargetPicker:function(){if(!t.isLoggedIn())return!1;var e=s("shareTargetPicker");if(!e)return!1;var i=e.permission,u=e.minVer;if(!i)return!1;if(r.isInClient()){var a=o.getLineVersion();return null!==a&&n.compareVersion(a,u)>=0}return!0},multipleLiffTransition:function(){var e=s("multipleLiffTransition");if(!e)return!1;var n=e.permission;return r.isInClient()&&n},subwindowOpen:function(){var e=s("subwindowOpen");return!(!e||!e.permission)&&(!r.isInClient()||a(e.minVer,e.unsupportedFromVer))},scanCode:function(){return f("scanCode")},scanCodeV2:function(){if(!t.isLoggedIn())return!1;var e=s("scanCodeV2");return!(!e||!e.permission)&&(!r.isInClient()||a(e.minVer))},getAdvertisingId:function(){return f("getAdvertisingId")},addToHomeScreen:function(){return f("addToHomeScreen")},bluetoothLeFunction:function(){return f("bluetoothLeFunction")},skipChannelVerificationScreen:function(){return f("skipChannelVerificationScreen")}};exports.isApiAvailable=function(i){if(!u.includes(i))throw n.createLiffError(e.INVALID_ARGUMENT,"Unexpected API name.");var r=c[i];return!r||r()};
