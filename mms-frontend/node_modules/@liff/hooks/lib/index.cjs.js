"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),r=function(){var r=this;this.type="sync",this.fns=new Set,this.on=function(e){r.fns.add(e)},this.call=function(){for(var t,n,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];try{for(var i=e.__values(r.fns),o=i.next();!o.done;o=i.next()){var l=o.value;l.apply(void 0,e.__spread(s))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},t=function(){var r=this;this.type="async",this.fns=new Set,this.on=function(e){r.fns.add(e)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.__awaiter(r,void 0,void 0,(function(){var r,n,s,a,i,o;return e.__generator(this,(function(l){switch(l.label){case 0:r=[];try{for(n=e.__values(this.fns),s=n.next();!s.done;s=n.next())a=s.value,r.push(a.apply(void 0,e.__spread(t)))}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return[4,Promise.all(r)];case 1:return l.sent(),[2]}}))}))}},n=function(){var r=this;this.type="asyncSeries",this.fns=new Set,this.on=function(e){r.fns.add(e)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.__awaiter(r,void 0,void 0,(function(){var r,n,s,a,i;return e.__generator(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),r=e.__values(this.fns),n=r.next(),o.label=1;case 1:return n.done?[3,4]:[4,n.value.apply(void 0,e.__spread(t))];case 2:o.sent(),o.label=3;case 3:return n=r.next(),[3,1];case 4:return[3,7];case 5:return s=o.sent(),a={error:s},[3,7];case 6:try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}))}};exports.AsyncHook=t,exports.AsyncSeriesHook=n,exports.SyncHook=r;
